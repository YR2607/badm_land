import{defineType as i,defineField as t,defineConfig as n,renderStudio as r}from"sanity";import{structureTool as s}from"sanity/structure";import{visionTool as p}from"@sanity/vision";const m=i({name:"gallerySection",title:"Раздел галереи",type:"document",description:"Секция галереи (Наш зал, Наши тренера, Наши тренировки)",fields:[t({name:"key",title:"Раздел",type:"string",options:{list:[{title:"Наш зал",value:"hall"},{title:"Наши тренера",value:"coaches"},{title:"Наши тренировки",value:"trainings"}]},hidden:!0,readOnly:!0,validation:e=>e.required()}),t({name:"title",title:"Название (опционально)",type:"string",description:"Можно оставить пустым — на сайте используется выбранный раздел"}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:64},hidden:!0}),t({name:"images",title:"Изображения",type:"array",of:[{type:"image",options:{hotspot:!0}}],description:"Фотографии для этой секции галереи"})]}),c=i({name:"tournamentCategory",title:"Турнир (категория)",type:"document",description:"Категория турнира (например, Altius Open 2024). Внутри фото и видео.",fields:[t({name:"name",title:"Название",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"name",maxLength:96},validation:e=>e.required()}),t({name:"year",title:"Год",type:"number",description:"Например, 2024"}),t({name:"tags",title:"Теги",type:"array",of:[{type:"string"}],description:"Ключевые слова для фильтра"}),t({name:"featured",title:"Избранное",type:"boolean"}),t({name:"cover",title:"Обложка",type:"image",options:{hotspot:!0},description:"Если не указана — возьмётся первое фото"}),t({name:"photos",title:"Фотографии",type:"array",options:{layout:"grid",sortable:!0},of:[{type:"image",options:{hotspot:!0}}]}),t({name:"videos",title:"Видео",type:"array",options:{layout:"grid",sortable:!0},of:[{type:"file"}]})]}),d=i({name:"post",title:"Пост/Новость",type:"document",description:"Новости клуба, мировые новости и события",fields:[t({name:"title",title:"Заголовок",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"excerpt",title:"Короткое описание",type:"text"}),t({name:"content",title:"Контент",type:"array",of:[{type:"block"}]}),t({name:"image",title:"Изображение",type:"image",options:{hotspot:!0},validation:e=>e.required()}),t({name:"date",title:"Дата",type:"datetime",initialValue:()=>new Date().toISOString(),validation:e=>e.required()}),t({name:"category",title:"Категория",type:"reference",to:[{type:"category"}],validation:e=>e.required()}),t({name:"author",title:"Автор",type:"reference",to:[{type:"author"}]}),t({name:"featured",title:"Избранное",type:"boolean"}),t({name:"seoTitle",title:"SEO Title",type:"string"}),t({name:"seoDescription",title:"SEO Description",type:"text"})]}),y=i({name:"page",title:"Страница",type:"document",description:"Управляемые страницы сайта (home, about, services, contact)",fields:[t({name:"title",title:"Название",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"heroTitle",title:"Заголовок Hero",type:"string"}),t({name:"heroSubtitle",title:"Подзаголовок Hero",type:"text"}),t({name:"heroImage",title:"Изображение Hero",type:"image",options:{hotspot:!0}}),t({name:"sections",title:"Секции контента",type:"array",of:[{type:"object",name:"textSection",title:"Текстовая секция",fields:[{name:"heading",title:"Заголовок",type:"string"},{name:"body",title:"Текст",type:"array",of:[{type:"block"}]}]}]})]}),u=i({name:"author",title:"Автор",type:"document",description:"Авторы новостей/постов",fields:[t({name:"name",title:"Имя",type:"string",validation:e=>e.required()}),t({name:"photo",title:"Фото",type:"image",options:{hotspot:!0}})]}),g=i({name:"category",title:"Категория",type:"document",description:"Категория новостей (news/world/event)",fields:[t({name:"title",title:"Название",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:64},validation:e=>e.required()}),t({name:"color",title:"Цвет (опционально)",type:"string"})]}),h=i({name:"galleryAlbum",title:"Альбом галереи",type:"document",description:"Подраздел внутри галереи (альбом фотографий) для конкретного раздела",fields:[t({name:"title",title:"Название альбома",type:"string",validation:e=>e.required()}),t({name:"slug",title:"Slug",type:"slug",options:{source:"title",maxLength:96},validation:e=>e.required()}),t({name:"section",title:"Раздел",type:"reference",to:[{type:"gallerySection"}],description:"К какому разделу относится альбом (Наш зал, Наши тренера, Наши тренировки)",validation:e=>e.required()}),t({name:"cover",title:"Обложка (опционально)",type:"image",options:{hotspot:!0}}),t({name:"images",title:"Фотографии",type:"array",of:[{type:"image",options:{hotspot:!0}}]})]}),f=i({name:"clubEmbed",title:"Новости клуба (встраиваемые)",type:"document",fields:[t({name:"title",title:"Заголовок",type:"string",validation:e=>e.required().min(3)}),t({name:"kind",title:"Тип материала",type:"string",initialValue:"news",options:{list:[{title:"Новость клуба",value:"news"},{title:"Событие",value:"event"}],layout:"radio",direction:"horizontal"},validation:e=>e.required()}),t({name:"publishedAt",title:"Дата публикации (как на Facebook)",type:"datetime",options:{timeStep:1},description:"Укажите дату/время публикации поста на Facebook для правильной сортировки и отображения.",validation:e=>e.required()}),t({name:"url",title:"Ссылка на пост Facebook или iframe HTML",type:"text",rows:3,description:"Вставьте полную ссылку на пост/видео Facebook (или код <iframe ...></iframe>) — мы корректно отобразим блок на сайте",validation:e=>e.required()}),t({name:"cover",title:"Обложка (кастомное изображение)",type:"image",options:{hotspot:!0},description:"Опционально: загрузите обложку, если картинка не подтягивается автоматически из Facebook"}),t({name:"description",title:"Описание",type:"text",rows:3})]}),v=i({name:"eventEmbed",title:"События (встраиваемые)",type:"document",fields:[t({name:"title",title:"Заголовок",type:"string",validation:e=>e.required().min(3)}),t({name:"url",title:"Ссылка на пост/видео Facebook или iframe HTML",type:"text",rows:3,description:"Вставьте ссылку на пост/видео Facebook (или код <iframe ...></iframe>) — мы корректно отобразим блок на сайте",validation:e=>e.required()}),t({name:"description",title:"Описание",type:"text",rows:3})]}),b=[m,c,d,y,u,g,h,f,v],T=e=>e.listItem().title("Галерея").child(e.list().title("Галерея").items([e.listItem().title("Наш зал").schemaType("gallerySection").child(e.documentTypeList("gallerySection").title("Наш зал").filter('_type == "gallerySection" && key == "hall"').initialValueTemplates([e.initialValueTemplateItem("gallerySection-hall")])),e.listItem().title("Наши тренера").schemaType("gallerySection").child(e.documentTypeList("gallerySection").title("Наши тренера").filter('_type == "gallerySection" && key == "coaches"').initialValueTemplates([e.initialValueTemplateItem("gallerySection-coaches")])),e.listItem().title("Наши тренировки").schemaType("gallerySection").child(e.documentTypeList("gallerySection").title("Наши тренировки").filter('_type == "gallerySection" && key == "trainings"').initialValueTemplates([e.initialValueTemplateItem("gallerySection-trainings")]))])),l=(e,o,a)=>e.listItem().title(a).child(e.documentTypeList(o).title(a)),q=e=>e.listItem().title("Избранные посты").child(e.documentList().title("Избранные посты").filter('_type == "post" && featured == true')),k=e=>e.listItem().title("Новости клуба (встраиваемые)").child(e.documentTypeList("clubEmbed").title("Новости клуба (встраиваемые)")),I=e=>e.listItem().title("События (встраиваемые)").child(e.documentTypeList("eventEmbed").title("События (встраиваемые)")),L=e=>e.list().title("Контент").items([e.listItem().title("Страницы").child(e.documentTypeList("page").title("Страницы")),e.divider(),e.listItem().title("Новости").child(e.list().title("Новости").items([k(e),I(e),q(e)])),e.divider(),T(e),l(e,"tournamentCategory","Турниры"),e.divider(),l(e,"author","Авторы"),l(e,"category","Категории")]),x=[{id:"gallerySection-hall",title:"Новый раздел: Наш зал",schemaType:"gallerySection",value:{key:"hall",title:"Наш зал"}},{id:"gallerySection-coaches",title:"Новый раздел: Наши тренера",schemaType:"gallerySection",value:{key:"coaches",title:"Наши тренера"}},{id:"gallerySection-trainings",title:"Новый раздел: Наши тренировки",schemaType:"gallerySection",value:{key:"trainings",title:"Наши тренировки"}}],E=n({name:"default",title:"altius",projectId:"ctgwxc8c",dataset:"production",plugins:[s({structure:L}),p()],schema:{types:b,templates:e=>[...x,...e]},basePath:"/admin"});r(document.getElementById("sanity"),E,{reactStrictMode:!1,basePath:"/"});
